# ✅ Проект готов к запуску через Docker

## Что было исправлено

### 1. ✅ Удалён мёртвый код
- Файл `backend/utils/config.py` удалён (не использовался, всё читается из PostgreSQL)

### 2. ✅ Исправлен .gitignore
- Убрана строка `package-lock.json` - теперь версии зависимостей будут зафиксированы для воспроизводимой сборки

### 3. ✅ Упрощён docker-compose.yml
- Удалено монтирование `./config:/app/config:ro` и `./data:/app/data`
- Теперь монтируется только `./logs:/app/logs`
- **Все данные хранятся в PostgreSQL БД!**

## Как запустить на новом ПК

```bash
# 1. Клонировать репозиторий
git clone <ваш-репо>
cd vktest

# 2. Запустить через Docker
docker-compose up --build -d

# 3. Проверить статус
docker-compose ps
```

## Доступные сервисы

- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:8000
- **API Docs:** http://localhost:8000/docs
- **PostgreSQL:** localhost:5432

## База данных

- **Хост:** postgres (внутри Docker network)
- **Порт:** 5432
- **БД:** vkads
- **Пользователь:** vkads
- **Пароль:** vkads_password

Все данные хранятся в Docker volume `postgres_data` и сохраняются между перезапусками.

## Первый запуск

После запуска БД будет пустой. Нужно:

1. Открыть http://localhost:3000
2. Добавить VK Ads аккаунты через раздел "Кабинеты"
3. Настроить параметры анализа в разделе "Настройки"
4. Настроить Telegram уведомления (опционально)

## Управление

```bash
# Остановить все сервисы
docker-compose down

# Перезапустить
docker-compose restart

# Посмотреть логи
docker-compose logs -f backend
docker-compose logs -f frontend

# Остановить и удалить ВСЕ данные (включая БД)
docker-compose down -v
```

## Структура данных

### В PostgreSQL хранятся:
- ✅ Аккаунты VK Ads (API ключи)
- ✅ Настройки (анализ, Telegram, планировщик)
- ✅ Whitelist баннеров
- ✅ История действий (отключённые баннеры)
- ✅ Статистика по аккаунтам
- ✅ Логи масштабирования
- ✅ Правила автоотключения

### Старые папки НЕ используются:
- ❌ `config/` - было: JSON конфиги, теперь: не нужна
- ❌ `data/` - было: JSON кэш, теперь: не нужна

### Остались только:
- ✅ `logs/` - текстовые логи приложения

