# –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ VK Ads Manager

## –û–±–∑–æ—Ä

–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞, –≤–∫–ª—é—á–∞—è:
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–∞–∫–∫–∞—É–Ω—Ç–∞
- –ü–æ–ª–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ stdout/stderr –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ (OOM, SIGKILL, –∏ –¥—Ä.)
- JSONL-—Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

```
logs/
‚îú‚îÄ‚îÄ scheduler/
‚îÇ   ‚îú‚îÄ‚îÄ scheduler_{username}_{date}.log          # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ scheduler_events.log                     # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è (–≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ events_{username}.jsonl                  # –°–æ–±—ã—Ç–∏—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
‚îÇ   ‚îî‚îÄ‚îÄ process_logs/
‚îÇ       ‚îî‚îÄ‚îÄ {username}/
‚îÇ           ‚îú‚îÄ‚îÄ {timestamp}_{run_type}_rc{code}_stdout.log    # –ü–æ–ª–Ω—ã–π stdout –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îÇ           ‚îú‚îÄ‚îÄ {timestamp}_{run_type}_rc{code}_stderr.log    # –ü–æ–ª–Ω—ã–π stderr –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îÇ           ‚îî‚îÄ‚îÄ {timestamp}_{run_type}_rc{code}_meta.txt      # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ vk_ads_manager_{timestamp}.log               # –õ–æ–≥–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞
```

## –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤

### 1. –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
**–§–∞–π–ª:** `logs/scheduler/scheduler_{username}_{date}.log`

–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö

**–ü—Ä–∏–º–µ—Ä:**
```
2025-12-17 14:32:10 | INFO     | üîß VK Ads Scheduler –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-17 14:32:10 | INFO     | üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin (ID: 1)
2025-12-17 14:32:15 | INFO     | üöÄ –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑–∞ VK Ads Manager...
2025-12-17 14:35:21 | ERROR    | ‚ùå –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω —Å –æ—à–∏–±–∫–æ–π (–∫–æ–¥ -9) –∑–∞ 160.1 —Å–µ–∫
2025-12-17 14:35:21 | ERROR    |    –¢–∏–ø –æ—à–∏–±–∫–∏: SIGKILL (–≤–µ—Ä–æ—è—Ç–Ω–æ OOM - –Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏)
```

### 2. –§–∞–π–ª —Å–æ–±—ã—Ç–∏–π (JSONL)
**–§–∞–π–ª:** `logs/scheduler/events_{username}.jsonl`

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ JSON Lines —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:

```jsonl
{"timestamp": "2025-12-17T14:32:10+03:00", "username": "admin", "user_id": "1", "event_type": "STARTED", "message": "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω", "run_count": 0}
{"timestamp": "2025-12-17T14:32:15+03:00", "username": "admin", "user_id": "1", "event_type": "ANALYSIS_STARTED", "message": "–ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑–∞", "run_count": 1, "run_type": "–æ—Å–Ω–æ–≤–Ω–æ–π", "extra_lookback_days": 0}
{"timestamp": "2025-12-17T14:35:21+03:00", "username": "admin", "user_id": "1", "event_type": "ANALYSIS_FAILED", "message": "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–∞–ª–µ–Ω", "run_count": 1, "run_type": "—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π", "elapsed_seconds": 160.1, "return_code": -9, "error_type": "SIGKILL (–≤–µ—Ä–æ—è—Ç–Ω–æ OOM - –Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏)", "pid": 12345}
{"timestamp": "2025-12-17T14:40:00+03:00", "username": "admin", "user_id": "1", "event_type": "SCHEDULER_DISABLED", "message": "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö", "run_count": 1}
```

### 3. –õ–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `logs/scheduler/process_logs/{username}/`

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 3 —Ñ–∞–π–ª–∞:

#### stdout.log
–ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π)

#### stderr.log
–í—Å–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)

#### meta.txt
–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–ø—É—Å–∫–∞:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin (ID: 1)
–¢–∏–ø –∞–Ω–∞–ª–∏–∑–∞: —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–Ω–∏: 29
–ö–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞: -9
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 160.1 —Å–µ–∫
Timestamp: 20251217_143521
–¢–∏–ø –æ—à–∏–±–∫–∏: SIGKILL (–≤–µ—Ä–æ—è—Ç–Ω–æ OOM - –Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏)
```

## –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- `STARTED` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω
- `SCHEDULER_LOOP_STARTED` - –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∑–∞–ø—É—â–µ–Ω
- `SCHEDULER_DISABLED` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- `SCHEDULER_STOPPED` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `SIGNAL_RECEIVED` - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª (SIGTERM, SIGINT, SIGKILL)
- `PROCESS_TERMINATED` - –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –°–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏–∑–∞
- `ANALYSIS_STARTED` - –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
- `ANALYSIS_SUCCESS` - –ê–Ω–∞–ª–∏–∑ —É—Å–ø–µ—à–µ–Ω
- `ANALYSIS_FAILED` - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–∞–ª–µ–Ω
- `ANALYSIS_ERROR` - –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞–Ω–∞–ª–∏–∑–∞
- `ANALYSIS_EXCEPTION` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- `RETRY_STARTED` - –ù–∞—á–∞–ª–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- `RETRY_SUCCESS` - –£—Å–ø–µ—à–Ω–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
- `RETRY_FAILED` - –í—Å–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–æ–≤–∞–ª–µ–Ω—ã

### –õ–∏–º–∏—Ç—ã
- `MAX_RUNS_REACHED` - –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –∑–∞–ø—É—Å–∫–æ–≤

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –æ—à–∏–±–∫–∏ –ø–æ –∫–æ–¥—É –≤–æ–∑–≤—Ä–∞—Ç–∞:

| –ö–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ | –¢–∏–ø –æ—à–∏–±–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|------------|----------|
| -9, 137 | SIGKILL (–≤–µ—Ä–æ—è—Ç–Ω–æ OOM) | –ü—Ä–æ—Ü–µ—Å—Å —É–±–∏—Ç, –æ–±—ã—á–Ω–æ –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏ |
| -15, 143 | SIGTERM | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ |
| -2, 130 | SIGINT | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (Ctrl+C) |
| –¥—Ä—É–≥–æ–µ | Unknown Error | –ü–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É stderr –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è: Memory, Timeout, Connection, API, Database |

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Å–Ω–æ–≤–Ω—ã—Ö –ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -f logs/scheduler/scheduler_admin_20251217.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep ERROR logs/scheduler/scheduler_admin_20251217.log

# –ü–æ–∏—Å–∫ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
grep "SCHEDULER_DISABLED\|–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω" logs/scheduler/scheduler_admin_*.log
```

### –ê–Ω–∞–ª–∏–∑ —Å–æ–±—ã—Ç–∏–π (JSONL)
```bash
# –í—Å–µ –æ—à–∏–±–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
grep ANALYSIS_FAILED logs/scheduler/events_admin.jsonl | jq .

# –û—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
grep SCHEDULER_DISABLED logs/scheduler/events_admin.jsonl | jq .

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –æ—à–∏–±–æ–∫
grep ANALYSIS_FAILED logs/scheduler/events_admin.jsonl | jq -r .error_type | sort | uniq -c
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ stderr —Å –æ—à–∏–±–∫–∞–º–∏
ls -t logs/scheduler/process_logs/admin/*_stderr.log | head -5

# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–≤–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
cat logs/scheduler/process_logs/admin/*_rc-9_meta.txt

# –ü–æ–ª–Ω—ã–π stdout –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
tail -100 logs/scheduler/process_logs/admin/20251217_143521_—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π_plus29d_rc-9_stdout.log
```

## –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

### –ù–∞–π—Ç–∏ –≤—Å–µ OOM –æ—à–∏–±–∫–∏
```bash
grep -r "SIGKILL\|OOM\|–Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏" logs/scheduler/process_logs/
```

### –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
ls logs/scheduler/process_logs/admin/ | grep "_rc-[0-9]"
```

### –ü—Ä–æ—Å–ª–µ–¥–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ—Ç–∫–ª—é—á–µ–Ω–∏–π
```bash
grep "SCHEDULER_DISABLED\|SCHEDULER_STOPPED" logs/scheduler/events_*.jsonl | jq -r '[.timestamp, .username, .stop_reason // .message] | @tsv'
```

## Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–±—ã—Ç–∏–π

```python
import json
from datetime import datetime

# –ß—Ç–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
events = []
with open('logs/scheduler/events_admin.jsonl', 'r', encoding='utf-8') as f:
    for line in f:
        events.append(json.loads(line))

# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–∞–ª–æ–≤
failures = [e for e in events if e['event_type'] == 'ANALYSIS_FAILED']
for f in failures:
    print(f"{f['timestamp']}: {f['run_type']} - {f['error_type']} ({f['elapsed_seconds']}s)")

# –ß–∞—Å—Ç–æ—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π
disables = [e for e in events if e['event_type'] == 'SCHEDULER_DISABLED']
print(f"\n–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–∫–ª—é—á–∞–ª—Å—è {len(disables)} —Ä–∞–∑(–∞)")
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ docker-compose.yml –∏–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω—ã:

```yaml
environment:
  - VK_ADS_USER_ID=1
  - VK_ADS_USERNAME=admin
```

## –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cron:

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
find logs/scheduler/process_logs/ -type f -mtime +30 -delete
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –≤—Å–µ–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏
tail -f logs/scheduler/events_admin.jsonl | jq .

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
tail -f logs/scheduler/scheduler_admin_*.log | grep -E "ERROR|WARNING"
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `logs/`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `VK_ADS_USERNAME` –∑–∞–¥–∞–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å-–ª–æ–≥–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–Ω–∞–ª–∏–∑ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–ª—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ `logs/scheduler/process_logs/{username}/`

### –ü—Ä–æ–±–ª–µ–º–∞: JSONL —Ñ–∞–π–ª –Ω–µ–≤–∞–ª–∏–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ –±—ã–ª–æ –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `jq -c . < file.jsonl` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
